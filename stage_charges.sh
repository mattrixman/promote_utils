#!/usr/bin/env bash

# first run 
# mysql_config_editor set --login-path=local --host=localhost --user=username --password
# to store the password

cat > bill_stage.sql <<_EOF_
INSERT INTO stage_charge 
VALUES (379,'HNXG73JY34MXR','USD',150,NULL,NULL,'PENDING','AppBillingController','SUBSCRIPTION',NULL,'INFOLEASE','2017-10-01 00:00:00','2017-11-01 00:00:00','2018-01-16 19:14:48','2018-01-16 19:14:48',NULL,NULL,'V9DK8QQF125J0',NULL,NULL)
      ,(380,'36RT4DNNBR0PW','USD',99,NULL,NULL,'PENDING','AppBillingController','SUBSCRIPTION',NULL,'INFOLEASE','2017-10-01 00:00:00','2017-11-01 00:00:00','2018-01-16 19:14:48','2018-01-16 19:14:48',NULL,NULL,'V9DK8QQF125J0',NULL,NULL)
      ,(381,'KFMTQFRM3A378','USD',300,NULL,NULL,'PENDING','AppBillingController','METERED',NULL,'INFOLEASE','2017-10-01 00:00:00','2017-11-01 00:00:00','2018-01-16 19:14:48','2018-01-16 19:14:48',NULL,NULL,'V9DK8QQF125J0',NULL,NULL)
      ,(382,'PRPKPXFCVEFQE','USD',99,NULL,NULL,'PENDING','AppBillingController','SUBSCRIPTION',NULL,'INFOLEASE','2017-10-01 00:00:00','2017-11-01 00:00:00','2018-01-16 19:14:48','2018-01-16 19:14:48',NULL,NULL,'V9DK8QQF125J0',NULL,NULL);

INSERT INTO stage_merchant_app_charge
VALUES (112,448,465,379,'2018-01-16 19:14:48','2018-01-16 19:14:48',1106,'V9DK8QQF125J0',NULL,NULL)
      ,(113,449,NULL,381,'2018-01-16 19:14:48','2018-01-16 19:14:48',1107,'V9DK8QQF125J0',NULL,NULL);

INSERT INTO stage_merchant_plan_charge
VALUES (246,1106,380,'2018-01-16 19:14:48','2018-01-16 19:14:48',0,3,'ADVANCE','V9DK8QQF125J0',NULL,NULL)
      ,(247,1106,382,'2018-01-16 19:14:48','2018-01-16 19:14:48',0,3,'ADJUSTMENT','V9DK8QQF125J0',NULL,NULL);

INSERT INTO stage_app_metered_event 
VALUES (19,56,381,'V9DK8QQF125J0',1107,NULL,'2018-01-16 19:14:48');
_EOF_

cat > meta_stage.sql <<_EOF_
INSERT INTO app_metered_event 
VALUES (56,'83PC5E8J1878C',449,108,1,NULL,'2017-10-01 00:00:00','2018-01-16 19:14:48');
_EOF_

mysql --login-path=local -D test_billing < bill_stage.sql
mysql --login-path=local -D test_meta < meta_stage.sql
